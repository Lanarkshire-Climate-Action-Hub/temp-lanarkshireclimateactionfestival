document.addEventListener("DOMContentLoaded",(function(){const filterToggle=document.getElementById("filter-toggle"),filterContainer=document.getElementById("filter-container"),applyFilterButton=document.getElementById("apply-filter"),categoryFilter=(document.getElementById("events"),document.getElementById("filter-category")),locationFilter=document.getElementById("filter-location"),dateFilter=document.getElementById("filter-date"),optionCheckboxes=document.querySelectorAll("input[name='filter-option']");filterToggle.addEventListener("click",(function(event){event.preventDefault(),filterContainer.hidden?(filterContainer.hidden=!1,filterToggle.textContent="Close Filters"):(filterContainer.hidden=!0,filterToggle.textContent="Open Filters")})),"undefined"!=typeof map&&map?applyFilterButton.addEventListener("click",(function(){!function(category,location,date,options){const eventItems=document.querySelectorAll("#events .uk-panel");map.eachLayer((layer=>{layer instanceof L.Marker&&map.removeLayer(layer)})),eventItems.forEach((eventItem=>{const eventCategory=eventItem.dataset.category,eventLocation=eventItem.dataset.location.toLowerCase(),eventDate=eventItem.dataset.date,eventOptions=eventItem.dataset.options?eventItem.dataset.options.split(","):[];let isVisible=!0;if(category&&eventCategory!==category&&(isVisible=!1),location&&eventLocation!==location&&(isVisible=!1),date&&eventDate!==date&&(isVisible=!1),options.length>0&&!options.some((opt=>eventOptions.includes(opt)))&&(isVisible=!1),eventItem.style.display=isVisible?"block":"none",isVisible){const lat=eventItem.dataset.latitude,lng=eventItem.dataset.longitude;if(lat&&lng){L.marker([lat,lng]).addTo(map).bindPopup(`<div class="uk-text-bold">${eventItem.dataset.title}</div>`)}}}))}(categoryFilter.value,locationFilter.value.toLowerCase(),dateFilter.value,Array.from(optionCheckboxes).filter((checkbox=>checkbox.checked)).map((checkbox=>checkbox.value)))})):console.warn("Leaflet map not found")})),document.addEventListener("DOMContentLoaded",(function(){}));