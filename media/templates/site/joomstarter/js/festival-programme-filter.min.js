document.addEventListener("DOMContentLoaded",(function(){const filterToggle=document.getElementById("filter-toggle"),filterContainer=document.getElementById("filter-container"),filterButton=document.getElementById("apply-filter"),resetButton=document.createElement("button"),categoryFilter=document.getElementById("filter-category"),locationFilter=document.getElementById("filter-location"),dateFilter=document.getElementById("filter-date"),eventItems=document.querySelectorAll(".event-item");document.getElementById("events");resetButton.textContent="Reset Filters",resetButton.className="uk-button uk-button-default download_border twenty_six event_details_button_padding uk-margin-small-top uk-margin-small-left",resetButton.type="button",filterButton.insertAdjacentElement("afterend",resetButton);const messageWrapper=document.createElement("div");messageWrapper.className="uk-margin-small-top",filterButton.parentElement.appendChild(messageWrapper);const filterMessage=document.createElement("p");filterMessage.textContent="The programme has been updated.",filterMessage.style.display="none",filterMessage.className="uk-text-white",messageWrapper.appendChild(filterMessage);const locations=new Set;eventItems.forEach((event=>{const eventLocation=event.getAttribute("data-location");eventLocation&&""!==eventLocation.trim()&&locations.add(eventLocation.trim())})),locations.forEach((location=>{const option=document.createElement("option");option.value=location,option.textContent=location,locationFilter.appendChild(option)})),filterToggle.addEventListener("click",(function(event){event.preventDefault(),filterContainer.hidden=!filterContainer.hidden})),filterButton.addEventListener("click",(function(){const selectedWheelchair=document.querySelector("input[name='filter-option'][value='wheelchair']").checked,selectedFamily=document.querySelector("input[name='filter-option'][value='family']").checked,selectedCategory=categoryFilter.value,selectedLocation=locationFilter.value,selectedDate=dateFilter.value;eventItems.forEach((event=>{const parentContainer=event.closest(".uk-slider-items > div"),eventCategory=event.getAttribute("data-category"),eventLocation=event.getAttribute("data-location"),eventDate=event.getAttribute("data-date"),isWheelchair="true"===event.getAttribute("data-wheelchair"),isFamily="true"===event.getAttribute("data-family");let showEvent=!0;selectedCategory&&eventCategory!==selectedCategory&&(showEvent=!1),selectedLocation&&eventLocation!==selectedLocation&&(showEvent=!1),selectedDate&&eventDate!==selectedDate&&(showEvent=!1),selectedWheelchair&&!isWheelchair&&(showEvent=!1),selectedFamily&&!isFamily&&(showEvent=!1),parentContainer.style.display=showEvent?"block":"none"})),filterMessage.style.display="block",document.querySelectorAll(".uk-slider-items").forEach((slider=>{const visibleEvents=[...slider.querySelectorAll(".event-item")].filter((item=>"none"!==item.closest(".uk-slider-items > div").style.display));let noEventsMessage=slider.parentElement.querySelector(".no-events-message");0===visibleEvents.length?noEventsMessage||(noEventsMessage=document.createElement("p"),noEventsMessage.className="no-events-message uk-text-warning uk-text-center uk-margin-large",noEventsMessage.textContent="There is nothing planned.",slider.parentElement.appendChild(noEventsMessage)):noEventsMessage&&noEventsMessage.remove()}))})),resetButton.addEventListener("click",(function(event){event.preventDefault(),categoryFilter.value="",locationFilter.value="",dateFilter.value="",document.querySelector("input[name='filter-option'][value='wheelchair']").checked=!1,document.querySelector("input[name='filter-option'][value='family']").checked=!1,eventItems.forEach((event=>{event.closest(".uk-slider-items > div").style.display="block"})),filterMessage.style.display="none",document.querySelectorAll(".no-events-message").forEach((msg=>msg.remove()))}))}));